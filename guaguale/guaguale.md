刮刮乐是一个非常流行的营销手段，应用范围非常之广。其中的原理比较简单，也很容易实现。

中奖与否是两张不同图片，这里可以设置一下中奖率，比如生成一个1-100的随机数，只有当随机数>=90时图片路径是中奖的照片，则理论中奖率为10%。

我们先在图片的地方画一个图片大小的灰色矩形，然后再将图片设置为背景。这里有一个重要的参数 globalCompositeOperation = 'destination-out' 详见代码注释。
然后当手指在图案（DIV）上点击（touchstart）进入画圆（清除）状态。滑动（touchmove）时都触发画圆事件（因为上述参数的设定，可以理解为这个圆会把这里变透明，达到了刮开涂层效果）。当手指离开后退出画圆（清除）状态。

这样慢慢的就会看见后面的图片，显示中奖与否。

具体的应用见综合示例代码 main.php 中的抽奖功能，这里主要是介绍刮刮乐的实现方法，用于抽奖的话还需考虑用户获奖信息存储，反作弊等。